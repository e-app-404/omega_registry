# Derived Views Artifacts

This folder contains derived and post-processed registry artifacts generated by the Omega Registry pipeline. These files are not direct inputs, but are produced by enrichment, transformation, or aggregation steps. They are used for downstream analytics, auditing, and integration.

## Key Artifacts

- **enriched_registry.json**
  - The canonical, fully enriched entity registry. Contains all entities with joined fields (e.g., `device_id`, `area_id`, `floor_id`), contract-compliant structure, and provenance. Used as the main output for downstream consumers.
  - Example fields: `entity_id`, `domain`, `platform`, `device_id`, `area_id`, `unit_of_measurement`, etc.

- **merged_entity_registry.json**
  - An intermediate or diagnostic artifact showing the merged state of entities before final minimization or contract enforcement. Useful for debugging field propagation and join logic.
  - May contain extra diagnostic fields or partial data.

- **trace_overlay.json**
  - A debug and audit artifact containing trace overlays, join diagnostics, and field-level provenance for each entity. Used to trace how fields were derived or joined during enrichment.

- **flatmaps/**
  - Contains flat-mapped or denormalized views of the registry, such as `entity_flatmap.json`, for analytics or export.

- **hydrated_entities.json** / **hydrated_entities.pretty.json**
  - Contains the hydrated (fully joined and enriched, but not yet minimized) entity registry. Used for debugging, auditing, and as an intermediate step before minimization/contract enforcement. The `.pretty.json` version is formatted for human readability.
  - Example fields: `entity_id`, `domain`, `platform`, `device_id`, `area_id`, `unit_of_measurement`, etc.

## Usage

- These artifacts are referenced in provenance manifests and are essential for reproducibility and auditing.
- Do not edit these files by hand; they are generated by the pipeline scripts.

## See Also

- For pipeline configuration and output paths, see `scripts/utils/pipeline_config.py`.
- For provenance and artifact tracking, see `canonical/omega_registry_master.provenance.json`.
